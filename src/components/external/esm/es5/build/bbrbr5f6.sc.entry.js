import*as tslib_1 from"../polyfills/tslib.js";import{h}from"../nb-component.core.js";var LimitTextara=function(){function t(){this.limit=120,this.placeholder="请输入内容",this.height=160,this.text=""}return t.prototype.onTextChange=function(t){var e=t.trim();e.length>this.limit?(this.text=e.slice(0,this.limit),this.textarea.value=this.text):this.text=e},t.prototype.getContent=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(t){return[2,this.text]})})},t.prototype.onInput=function(t){this.text=t.target.value.trim()},Object.defineProperty(t.prototype,"textLength",{get:function(){return this.text.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heightRem",{get:function(){return this.height/75+"rem"},enumerable:!0,configurable:!0}),t.prototype.componentDidLoad=function(){this.text=this.el.innerHTML.trim(),this.ready.emit({textarea:this.textarea})},t.prototype.render=function(){var t=this;return h("div",{class:"textarea"},h("textarea",{style:{height:this.heightRem},placeholder:this.placeholder,ref:function(e){return t.textarea=e},onInput:this.onInput.bind(this)},this.text),h("span",{class:"counter"},this.textLength,"/",this.limit))},Object.defineProperty(t,"is",{get:function(){return"nb-limit-textarea"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{el:{elementRef:!0},getContent:{method:!0},height:{type:Number,attr:"height"},limit:{type:Number,attr:"limit"},placeholder:{type:String,attr:"placeholder"},text:{state:!0,watchCallbacks:["onTextChange"]}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"events",{get:function(){return[{name:"ready",method:"ready",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return".textarea.sc-nb-limit-textarea{width:10rem;padding-bottom:.5333333333333333rem;position:relative}.textarea.sc-nb-limit-textarea   textarea.sc-nb-limit-textarea{border:none;resize:none;padding:.32rem .4rem;width:9.2rem;font-size:.4266666666666667rem;outline:none}.textarea.sc-nb-limit-textarea   textarea.sc-nb-limit-textarea::-webkit-input-placeholder{color:#bfbfbf}.textarea.sc-nb-limit-textarea   textarea.sc-nb-limit-textarea:-ms-input-placeholder{color:#bfbfbf}.textarea.sc-nb-limit-textarea   textarea.sc-nb-limit-textarea::-ms-input-placeholder{color:#bfbfbf}.textarea.sc-nb-limit-textarea   textarea.sc-nb-limit-textarea::placeholder{color:#bfbfbf}.textarea.sc-nb-limit-textarea   .counter.sc-nb-limit-textarea{position:absolute;right:.4rem;bottom:.32rem;font-size:.32rem;color:#8c8c8c}"},enumerable:!0,configurable:!0}),t}();export{LimitTextara as NbLimitTextarea};