var __awaiter=this&&this.__awaiter||function(t,n,e,o){return new(e||(e=Promise))(function(i,r){function s(t){try{u(o.next(t))}catch(t){r(t)}}function a(t){try{u(o.throw(t))}catch(t){r(t)}}function u(t){t.done?i(t.value):new e(function(n){n(t.value)}).then(s,a)}u((o=o.apply(t,n||[])).next())})},__generator=this&&this.__generator||function(t,n){var e,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=n.call(t,s)}catch(t){r=[6,t],o=0}finally{e=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};NbComponent.loadBundle("7q8xd7dx",["exports"],function(t){var n=window.NbComponent.h,e="$_BUTTON_COUNTDOWN",o=function(){function t(){this.width=690,this.height=88,this.bg="#3E86F7",this.color="#ffffff",this.radius=8,this.noBorder=!1,this.countdown=0,this.countdownUnit="s",this.countdownContainer=".countdown",this.loading=!1,this.disable=!1,this.countdownDisplay=Number(sessionStorage.getItem(e)||0)}return t.prototype.done=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){return t=this.el.querySelector(this.countdownContainer),this.disable=!1,this.loading=!1,this.countdownDisplay=0,sessionStorage.removeItem(e),this.count.emit({status:"finish"}),t&&(t.innerHTML=""),[2,!0]})})},Object.defineProperty(t.prototype,"btnStyles",{get:function(){var t="1px solid transparent";return"#ffffff"===this.bg&&"#ffffff"!==this.color&&(t="1px solid "+this.color),{width:this.width/75+"rem",height:this.height/75+"rem",borderRadius:this.radius/75+"rem",background:this.bg,color:this.color,border:this.noBorder?"none":t}},enumerable:!0,configurable:!0}),t.prototype.handleCountdown=function(){this.disable=!0;var t=this.el.querySelector(this.countdownContainer);t&&(t.innerHTML=String(this.countdownDisplay)+this.countdownUnit),sessionStorage.setItem(e,String(this.countdownDisplay)),this.countdownDisplay>0?(this.countdownDisplay--,this.countdownTimer=setTimeout(this.handleCountdown.bind(this),1e3)):(clearTimeout(this.countdownTimer),this.done())},t.prototype.onClick=function(){this.loading=!0,this.countdown>0&&(this.countdownDisplay=this.countdown,this.count.emit({status:"start"}),this.handleCountdown()),this.tap.emit({done:this.done.bind(this)})},t.prototype.componentDidLoad=function(){this.countdownDisplay>0&&this.countdown>0&&(this.count.emit({status:"start"}),this.handleCountdown())},t.prototype.render=function(){return n("button",{onClick:this.onClick.bind(this),disabled:this.disable||this.loading,class:"btn "+(this.loading?"loading":""),style:Object.assign({},this.btnStyles)},n("slot",null))},Object.defineProperty(t,"is",{get:function(){return"nb-button-async"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{bg:{type:String,attr:"bg"},color:{type:String,attr:"color"},countdown:{type:Number,attr:"countdown"},countdownContainer:{type:String,attr:"countdown-container"},countdownDisplay:{state:!0},countdownUnit:{type:String,attr:"countdown-unit"},disable:{type:Boolean,attr:"disable",mutable:!0},done:{method:!0},el:{elementRef:!0},height:{type:Number,attr:"height"},loading:{type:Boolean,attr:"loading",mutable:!0},noBorder:{type:Boolean,attr:"no-border"},radius:{type:Number,attr:"radius"},width:{type:Number,attr:"width"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"events",{get:function(){return[{name:"tap",method:"tap",bubbles:!0,cancelable:!0,composed:!0},{name:"count",method:"count",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return".btn.sc-nb-button-async{border:none;outline:none}.btn.loading.sc-nb-button-async, .btn[disabled].sc-nb-button-async{opacity:.5}"},enumerable:!0,configurable:!0}),t}();t.NbButtonAsync=o,Object.defineProperty(t,"__esModule",{value:!0})});